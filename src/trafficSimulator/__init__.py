
from curve import *
from vehicle import *
from road import *
from simulation import *
from window import *
from vehicle_generator import *
from traffic_signal import *

sim = Simulation()

# # Add multiple roads

## ---- ESTACIONAMIENTO ARENA BORREGOS ----
INICIO = ((0,0),(21.7461,-26.9761))
ENTRADA_BORREGOS = ((21.7461,-26.9761),(31.8606,-26.9761))
INTERSECCION_1L = ((31.8606,-26.9761),(31.8606,-17.9761))
INTERSECCION_2L = ((31.8606,-17.9761),(31.8606,-2.842))
INTERSECCION_3L = ((31.8606,-2.842),(31.8606,15.1221))
INTERSECCION_4L = ((31.8606,15.1221),(31.8606,29.6307))
INTERSECCION_1C = ((31.8606,-17.9761),(71.7077,-17.9761))
INTERSECCION_2C = ((31.8606,-2.842),(71.7077,-2.842))
INTERSECCION_3C = ((31.8606,15.1221),(71.7077,15.1221))
INTERSECCION_4C = ((31.8606,29.6307),(71.7077,29.6307))
INTERSECCION_1R = ((71.7077,29.6307),(71.7077,15.1221))
INTERSECCION_2R = ((71.7077,15.1221),(71.7077,-2.842))
INTERSECCION_3R = ((71.7077,-2.842),(71.7077,-17.9761))
INTERSECCION_4R = ((71.7077,-17.9761),(71.7077,-26.9761))
INTERSECCION_0C = ((71.7077,-26.9761),(36.78,-26.9761))
SALIDA_BORREGOS_1 = ((36.78,-26.9761),(25.9072,-35.8534))
SALIDA_BORREGOS_2 = ((25.9072,-35.8534),(7.8019,-30.3946))
SALIDA = ((7.8019,-30.3946),(-12.2373,-16.9461))
sim.create_roads([
    INICIO, #0
    ENTRADA_BORREGOS, #1
    INTERSECCION_1L, #2
    INTERSECCION_2L, #3
    INTERSECCION_3L, #4
    INTERSECCION_4L, #5
    INTERSECCION_1C, #6
    INTERSECCION_2C, #7
    INTERSECCION_3C, #8
    INTERSECCION_4C, #9
    INTERSECCION_1R, #10
    INTERSECCION_2R, #11
    INTERSECCION_3R, #12
    INTERSECCION_4R, #13
    INTERSECCION_0C, #14
    SALIDA_BORREGOS_1, #15
    SALIDA_BORREGOS_2, #16
    SALIDA #17
])

## ---- ESTACIONAMIENTO MEDIO ----
ENTRADA_EST_MEDIO = ((31.8606,-26.9761),(25.7451,-42.7844))
EST_MEDIO_B = ((-19.9238,-39.1975),(25.7451,-42.7844))
EST_MEDIO_L1 = ((-31.9968,-57.6005),(-17.9238,-39.1975))
EST_MEDIO_R1 = ((25.7451,-42.7844),(18.7474,-60.7765))
EST_MEDIO_INTERSECCION1 = ((18.7474,-60.7765),(-31.9968,-57.6005))
EST_MEDIO_L2 = ((-46.1621,-76.3309),(-31.9968,-57.6005))
EST_MEDIO_R2 = ((18.7474,-60.7765),(14.8199,-79.5145))
EST_MEDIO_INTERSECCION2 = ((14.8199,-79.5145),(-46.1621,-76.3309))
EST_MEDIO_L3 = ((-59.7169,-94.2937),(-46.1621,-76.3309))
EST_MEDIO_R3 = ((14.8199,-79.5145),(13.4589,-98.2519))
EST_MEDIO_INTERSECCION3 = ((13.4589,-98.2519),(-59.7169,-94.2937))
EST_MEDIO_L4 = ((-73.6444,-112.51092),(-59.7169,-94.2937))
EST_MEDIO_R4 = ((13.4589,-98.2519),(12.0715,-117.39122))
EST_MEDIO_INTERSECCION4 = ((12.0715,-117.39122),(-73.6444,-112.51092))
EST_MEDIO_L5 = ((-80.1746,-131.3942),(-73.6444,-112.51092))
EST_MEDIO_R5 = ((12.0715,-117.39122),(10.6169,-135.9693))
EST_MEDIO_INTERSECCION5 = ((10.6169,-135.9693),(-80.1746,-131.3942))
EST_MEDIO_L6 = ((-81.5118,-150.2121),(-80.1746,-131.3942))
EST_MEDIO_R6 = ((10.6169,-135.9693),(7.59559,-155.39970))
EST_MEDIO_INTERSECCION6 = ((7.59559,-155.39970),(-81.5118,-150.2121))
EST_MEDIO_R7 = ((7.59559,-155.39970),(9.3492,-153.5104))
EST_MEDIO_L7 = ((-82.8175,-168.5878),(-81.5118,-150.2121))
EST_MEDIO_R8 = ((9.3492,-153.5104),(-8.7637,-173.0237))
EST_MEDIO_T = ((-8.7637,-173.0237),(-82.8175,-168.5878))




sim.create_roads([
ENTRADA_EST_MEDIO, #18
EST_MEDIO_B, #19
EST_MEDIO_L1, #20
EST_MEDIO_R1, #21
EST_MEDIO_INTERSECCION1,#22
EST_MEDIO_L2, #23
EST_MEDIO_R2, #24
EST_MEDIO_INTERSECCION2,#25
EST_MEDIO_L3, #26
EST_MEDIO_R3, #27
EST_MEDIO_INTERSECCION3,#28
EST_MEDIO_L4, #29
EST_MEDIO_R4, #30
EST_MEDIO_INTERSECCION4,#31
EST_MEDIO_L5, #32
EST_MEDIO_R5, #33
EST_MEDIO_INTERSECCION5,#34
EST_MEDIO_L6, #35
EST_MEDIO_R6, #36
EST_MEDIO_INTERSECCION6,#37
EST_MEDIO_R7, #38
EST_MEDIO_L7, #39
EST_MEDIO_R8, #40
EST_MEDIO_T, #41



])

## ---- ESTACIONAMIENTO NUEVO ----
# sim.create_roads([

# ])

## ---- ESTACIONAMIENTO TERRACERIA ----
# sim.create_roads([

# ])

sim.create_gen({
    'vehicle_rate': 30,
    'vehicles': [
        [1, {"path": [0,1,2,3,4,5,9,10,11,12,13,14,15,16,17]}],
        [1, {"path": [0,1,2,6,13,14,15,16,17]}],
        [1, {"path": [0,1,2,3,7,12,13,14,15,16,17]}],
        [1, {"path": [0,1,2,3,4,8,11,12,13,14,15,16,17]}],
        [1, {"path": [0,1,2,3,4,5,9,10,11,12,13,14,15,16,17]}],
        [1, {"path": [0,1,18,21,24,27,30,33,36,38,40,41,39,35,32,29,26,23,20,19]}],
        [1, {"path": [0,1,18,21,22,20,19]}],
        [1, {"path": [0,1,18,21,24,25,23,20,19]}],
        [1, {"path": [0,1,18,21,24,27,28,26,23,20,19]}],
        [1, {"path": [0,1,18,21,24,27,30,31,29,26,23,20,19]}],
        [1, {"path": [0,1,18,21,24,27,30,33,34,32,31,29,26,23,20,19]}],
        [1, {"path": [0,1,18,21,24,27,30,33,36,37,35,32,31,29,26,23,20,19]}],
    ]
})

# Start simulation
win = Window(sim)
win.zoom = 10
win.run(steps_per_update=5)
